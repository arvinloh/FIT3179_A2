<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Interactive Map Annotation Example</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    #choropleth_map {
      width: 100%;
      height: 500px;
      position: relative;  /* Relative positioning for containing the map */
      background-color: #e0e0e0; /* Placeholder for the map */
    }

    .annotation-icon {
      position: absolute;
      top: 150px; /* Adjust to where you want the icon to be */
      left: 550px; /* Adjust to where you want the icon to be */
      z-index: 1000;
      cursor: pointer;
      color: #333;
      font-size: 24px;
    }

    .tooltip-box {
      position: absolute;
      top: 120px; /* Adjust to position above the icon */
      left: 580px; /* Adjust to align correctly */
      width: 220px;
      background: #ffffcc;
      border: 1px solid #333;
      border-radius: 5px;
      padding: 10px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
      visibility: hidden; /* Initially hidden */
      opacity: 0;
      transition: opacity 0.3s ease;
      z-index: 1000;
    }

    .annotation-icon:hover + .tooltip-box {
      visibility: visible;  /* Make tooltip visible when icon is hovered */
      opacity: 1;
    }
  </style>
  <!-- Include Vega-Lite Library -->
  <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-lite@5"></script>
  <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
</head>
<body>

  <section>
    <h2>Birth Distribution Across States</h2>
    <div class="visual-container">
      <!-- The map container -->
      <div id="choropleth_map"></div>
      
      <!-- Annotation icon - Font Awesome information icon -->
      <i class="fas fa-info-circle annotation-icon"></i>

      <!-- Tooltip box to show details on hover -->
      <div class="tooltip-box">
        High number of births observed in this area. Detailed analysis reveals that socio-economic factors, healthcare access, and regional support influence these birth rates.
      </div>
    </div>
  </section>

  <!-- Vega-Lite Visualization Scripts -->
  <script type="text/javascript">
    // Choropleth Map Specification
    const choroplethSpec = "/js/choropleth_map.vg.json";
    
    // Embed the choropleth map
    vegaEmbed('#choropleth_map', choroplethSpec, {actions: false}).then(function(result) {
      // Additional customization if needed
    }).catch(console.error);
  </script>    
</body>
</html>
